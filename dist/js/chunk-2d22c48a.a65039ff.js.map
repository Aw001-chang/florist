{"version":3,"sources":["webpack:///./src/views/Coupons.vue?1c84","webpack:///src/views/Coupons.vue","webpack:///./src/views/Coupons.vue?1e4f","webpack:///./src/views/Coupons.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","openModal","_v","_m","_l","item","key","id","_s","title","percent","due_date","openDeleteModal","_e","isNew","directives","name","rawName","value","tempCoupon","expression","domProps","target","composing","$set","Array","isArray","is_enabled","_i","_q","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","updateCoupon","staticRenderFns","data","coupons","pagination","methods","getCoupons","vm","$http","get","api","then","console","log","response","Object","assign","httpMethod","success","created","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,OAASP,EAAIQ,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQV,EAAIQ,UAAUE,MAAWN,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,SAAS,CAACE,YAAY,0BAA0BG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIW,WAAU,MAAS,CAACX,EAAIY,GAAG,eAAeR,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIa,GAAG,GAAGT,EAAG,QAAQJ,EAAIc,GAAId,EAAW,SAAE,SAASe,GAAM,OAAOX,EAAG,KAAK,CAACY,IAAID,EAAKE,IAAI,CAACb,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIkB,GAAGH,EAAKI,UAAUf,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIkB,GAAGH,EAAKK,SAAS,OAAOhB,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIkB,GAAGH,EAAKM,aAAajB,EAAG,KAAK,CAAEW,EAAe,WAAEX,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACN,EAAIY,GAAG,QAAQR,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,WAAWR,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,iCAAiCG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIW,WAAU,EAAOI,MAAS,CAACf,EAAIY,GAAG,QAAQR,EAAG,SAAS,CAACE,YAAY,qCAAqCG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIsB,gBAAgBP,MAAS,CAACf,EAAIY,GAAG,eAAc,KAAKR,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,cAAc,SAAW,KAAK,KAAO,SAAS,kBAAkB,oBAAoB,cAAc,SAAS,CAACH,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,KAAK,CAACE,YAAY,cAAcC,MAAM,CAAC,GAAK,sBAAsB,CAAEP,EAAS,MAAEI,EAAG,OAAO,CAACJ,EAAIY,GAAG,WAAWZ,EAAIuB,KAAOvB,EAAIwB,MAAoCxB,EAAIuB,KAAjCnB,EAAG,OAAO,CAACJ,EAAIY,GAAG,aAAsBZ,EAAIa,GAAG,KAAKT,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIY,GAAG,QAAQR,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAI6B,WAAgB,MAAEC,WAAW,qBAAqBxB,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,GAAK,QAAQ,YAAc,SAASwB,SAAS,CAAC,MAAS/B,EAAI6B,WAAgB,OAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBjC,EAAIkC,KAAKlC,EAAI6B,WAAY,QAASnB,EAAOsB,OAAOJ,aAAaxB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIY,GAAG,SAASR,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAI6B,WAAe,KAAEC,WAAW,oBAAoBxB,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,YAAc,UAAUwB,SAAS,CAAC,MAAS/B,EAAI6B,WAAe,MAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBjC,EAAIkC,KAAKlC,EAAI6B,WAAY,OAAQnB,EAAOsB,OAAOJ,aAAaxB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIY,GAAG,SAASR,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAI6B,WAAmB,SAAEC,WAAW,wBAAwBxB,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,GAAK,WAAW,YAAc,UAAUwB,SAAS,CAAC,MAAS/B,EAAI6B,WAAmB,UAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBjC,EAAIkC,KAAKlC,EAAI6B,WAAY,WAAYnB,EAAOsB,OAAOJ,aAAaxB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIY,GAAG,WAAWR,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAI6B,WAAkB,QAAEC,WAAW,uBAAuBxB,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,GAAK,UAAU,YAAc,0BAA0BwB,SAAS,CAAC,MAAS/B,EAAI6B,WAAkB,SAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBjC,EAAIkC,KAAKlC,EAAI6B,WAAY,UAAWnB,EAAOsB,OAAOJ,aAAaxB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAI6B,WAAqB,WAAEC,WAAW,0BAA0BxB,YAAY,mBAAmBC,MAAM,CAAC,KAAO,WAAW,aAAa,IAAI,cAAc,IAAI,GAAK,cAAcwB,SAAS,CAAC,QAAUI,MAAMC,QAAQpC,EAAI6B,WAAWQ,YAAYrC,EAAIsC,GAAGtC,EAAI6B,WAAWQ,WAAW,OAAO,EAAErC,EAAIuC,GAAGvC,EAAI6B,WAAWQ,WAAW,MAAM5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI8B,EAAIxC,EAAI6B,WAAWQ,WAAWI,EAAK/B,EAAOsB,OAAOU,EAAID,EAAKE,QAAQ,IAAM,IAAM,GAAGR,MAAMC,QAAQI,GAAK,CAAC,IAAII,EAAI,KAAKC,EAAI7C,EAAIsC,GAAGE,EAAII,GAAQH,EAAKE,QAASE,EAAI,GAAI7C,EAAIkC,KAAKlC,EAAI6B,WAAY,aAAcW,EAAIM,OAAO,CAACF,KAAaC,GAAK,GAAI7C,EAAIkC,KAAKlC,EAAI6B,WAAY,aAAcW,EAAIO,MAAM,EAAEF,GAAKC,OAAON,EAAIO,MAAMF,EAAI,UAAY7C,EAAIkC,KAAKlC,EAAI6B,WAAY,aAAca,OAAUtC,EAAG,QAAQ,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,eAAe,CAACP,EAAIY,GAAG,gBAAgBR,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAAS,eAAe,UAAU,CAACP,EAAIY,GAAG,QAAQR,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQT,EAAIgD,eAAe,CAAChD,EAAIY,GAAG,iBAAiB,IACzoJqC,EAAkB,CAAC,WAAa,IAAIjD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAG,QAAQR,EAAG,KAAK,CAACJ,EAAIY,GAAG,WAAWR,EAAG,KAAK,CAACJ,EAAIY,GAAG,SAASR,EAAG,KAAK,CAACJ,EAAIY,GAAG,UAAUR,EAAG,KAAK,CAACJ,EAAIY,GAAG,aAAa,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACP,EAAIY,GAAG,W,qBC0H7e,GACEsC,KADF,WAEI,MAAJ,CACM1C,WAAN,EACMkB,KAAN,UACMyB,QAAN,GACMtB,WAAN,GACML,OAAO,EACP4B,WAAY,KAGhBC,QAAS,CACPC,WADJ,WACA,+DACA,+EACA,OACMC,EAAG/C,WAAY,EACfP,KAAKuD,MAAMC,IAAIC,GAAKC,MAAK,SAA/B,GACQC,QAAQC,IAAIC,EAASZ,MACrBK,EAAG/C,WAAY,EACf+C,EAAGJ,QAAUW,EAASZ,KAAKC,QAC3BI,EAAGH,WAAaU,EAASZ,KAAKE,eAGlCzC,UAZJ,SAYA,KACUa,GACFvB,KAAK4B,WAAa,GAClB5B,KAAKuB,OAAQ,IAEbvB,KAAK4B,WAAakC,OAAOC,OAAO,GAAIjD,GACpCd,KAAKuB,OAAQ,GAEf,IAAN,+BAEIwB,aAtBJ,WAuBM,IAAN,8DACA,SACA,OACWO,EAAG/B,QACNkC,EAAM,6DAAd,wBACQO,EAAa,OAEfhE,KAAKuD,MAAMS,GAAYP,EAAK,CAAlC,sCACQE,QAAQC,IAAIC,EAASZ,MACjBY,EAASZ,KAAKgB,SAChB,IAAV,8BACUX,EAAGD,eAEH,IAAV,8BACUC,EAAGD,aACHM,QAAQC,IAAI,cAKpBM,QAtDF,WAuDIlE,KAAKqD,eClLwU,I,YCO7Uc,EAAY,eACd,EACArE,EACAkD,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d22c48a.a65039ff.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coupons\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"text-right mt-3\"},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.openModal(true)}}},[_vm._v(\" 建立優惠券 \")])]),_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.coupons),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(_vm._s(item.percent)+\"%\")]),_c('td',[_vm._v(_vm._s(item.due_date))]),_c('td',[(item.is_enabled)?_c('span',{staticClass:\"text-success\"},[_vm._v(\"啟用\")]):_c('span',{staticClass:\"text-secondary\"},[_vm._v(\"未啟用\")])]),_c('td',[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",on:{\"click\":function($event){return _vm.openModal(false, item)}}},[_vm._v(\"編輯\")]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-1\",on:{\"click\":function($event){return _vm.openDeleteModal(item)}}},[_vm._v(\"刪除\")])])])}),0)]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"couponModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header bg-dark text-white\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[(_vm.isNew)?_c('span',[_vm._v(\"新增優惠券\")]):_vm._e(),(!_vm.isNew)?_c('span',[_vm._v(\"編輯優惠券\")]):_vm._e()]),_vm._m(1)]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"標題\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCoupon.title),expression:\"tempCoupon.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"title\",\"placeholder\":\"請輸入標題\"},domProps:{\"value\":(_vm.tempCoupon.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempCoupon, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"優惠碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCoupon.code),expression:\"tempCoupon.code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"code\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.tempCoupon.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempCoupon, \"code\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"到期日\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCoupon.due_date),expression:\"tempCoupon.due_date\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\",\"id\":\"due_date\",\"placeholder\":\"請輸入到期日\"},domProps:{\"value\":(_vm.tempCoupon.due_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempCoupon, \"due_date\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"折扣百分比\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCoupon.percent),expression:\"tempCoupon.percent\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"percent\",\"placeholder\":\"此處是填寫銷售百分比，輸入 80 代表打八折\"},domProps:{\"value\":(_vm.tempCoupon.percent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempCoupon, \"percent\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCoupon.is_enabled),expression:\"tempCoupon.is_enabled\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"true-value\":\"1\",\"false-value\":\"0\",\"id\":\"is_enabled\"},domProps:{\"checked\":Array.isArray(_vm.tempCoupon.is_enabled)?_vm._i(_vm.tempCoupon.is_enabled,null)>-1:_vm._q(_vm.tempCoupon.is_enabled,\"1\")},on:{\"change\":function($event){var $$a=_vm.tempCoupon.is_enabled,$$el=$event.target,$$c=$$el.checked?(\"1\"):(\"0\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tempCoupon, \"is_enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tempCoupon, \"is_enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tempCoupon, \"is_enabled\", $$c)}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"is_enabled\"}},[_vm._v(\"是否啟用\")])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.updateCoupon}},[_vm._v(\"確認\")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"名稱\")]),_c('th',[_vm._v(\"折扣百分比\")]),_c('th',[_vm._v(\"到期日\")]),_c('th',[_vm._v(\"是否啟用\")]),_c('th',[_vm._v(\"編輯\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"coupons\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"text-right mt-3\">\n      <button class=\"btn btn-outline-primary\" @click=\"openModal(true)\">\n        建立優惠券\n      </button>\n    </div>\n    <!--  -->\n    <table class=\"table mt-4\">\n      <thead>\n        <tr>\n          <th>名稱</th>\n          <th>折扣百分比</th>\n          <th>到期日</th>\n          <th>是否啟用</th>\n          <th>編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in coupons\" :key=\"item.id\">\n          <td>{{item.title}}</td>\n          <td>{{item.percent}}%</td>\n          <td>{{item.due_date}}</td>\n          <td>\n            <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n            <span v-else class=\"text-secondary\">未啟用</span>\n          </td>\n          <td>\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\n            <button class=\"btn btn-outline-danger btn-sm ml-1\" @click=\"openDeleteModal(item)\">刪除</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <!-- Modal -->\n    <div\n      class=\"modal fade\"\n      id=\"couponModal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-dark text-white\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              <span v-if=\"isNew\">新增優惠券</span>\n              <span v-if=\"!isNew\">編輯優惠券</span>\n            </h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label for=\"title\">標題</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"title\"\n                placeholder=\"請輸入標題\"\n                v-model=\"tempCoupon.title\"\n              >\n            </div>\n            <div class=\"form-group\">\n              <label for=\"title\">優惠碼</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"code\"\n                placeholder=\"請輸入優惠碼\"\n                v-model=\"tempCoupon.code\"\n              >\n            </div>\n            <div class=\"form-group\">\n              <label for=\"title\">到期日</label>\n              <input\n                type=\"date\"\n                class=\"form-control\"\n                id=\"due_date\"\n                placeholder=\"請輸入到期日\"\n                v-model=\"tempCoupon.due_date\"\n              >\n            </div>\n            <div class=\"form-group\">\n              <label for=\"title\">折扣百分比</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"percent\"\n                placeholder=\"此處是填寫銷售百分比，輸入 80 代表打八折\"\n                v-model=\"tempCoupon.percent\"\n              >\n            </div>\n            <div class=\"form-group\">\n              <div class=\"form-check\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  v-model=\"tempCoupon.is_enabled\"\n                  true-value=\"1\"\n                  false-value=\"0\"\n                  id=\"is_enabled\"\n                >\n                <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-primary\"\n              @click=\"updateCoupon\">確認</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\nexport default {\n  data(){\n    return{\n      isLoading:false,\n      name:'coupons',\n      coupons:[],\n      tempCoupon:{},\n      isNew: false,\n      pagination: {},\n    }\n  },\n  methods: {\n    getCoupons(page = 1) {\n      const api = `https://vue-course-api.hexschool.io/api/anpo/admin/coupons?page=${page}`;\n      const vm = this;\n      vm.isLoading = true;\n      this.$http.get(api).then(response => {\n        console.log(response.data);\n        vm.isLoading = false;\n        vm.coupons = response.data.coupons;\n        vm.pagination = response.data.pagination;\n      });\n    },\n    openModal(isNew, item) {\n      if (isNew) {\n        this.tempCoupon = {};\n        this.isNew = true;\n      } else {\n        this.tempCoupon = Object.assign({}, item);\n        this.isNew = false;\n      }\n      $(\"#couponModal\").modal(\"show\");\n    },\n    updateCoupon() {\n      let api = \"https://vue-course-api.hexschool.io/api/anpo/admin/coupon\";\n      let httpMethod = \"post\";\n      const vm = this;                                                  \n      if (!vm.isNew) {\n        api = `https://vue-course-api.hexschool.io/api/anpo/admin/coupon/${vm.tempCoupon.id}`;\n        httpMethod = \"put\";\n      }\n      this.$http[httpMethod](api, { data: vm.tempCoupon }).then(response => {\n        console.log(response.data);\n        if (response.data.success) {\n          $(\"#couponModal\").modal(\"hide\");\n          vm.getCoupons();\n        } else {\n          $(\"#couponModal\").modal(\"hide\");\n          vm.getCoupons();\n          console.log(\"新增失敗\");\n        }\n      });\n    },\n  },\n  created() {\n    this.getCoupons();\n  },\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Coupons.vue?vue&type=template&id=bb3f9844&\"\nimport script from \"./Coupons.vue?vue&type=script&lang=js&\"\nexport * from \"./Coupons.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}