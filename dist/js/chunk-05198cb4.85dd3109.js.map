{"version":3,"sources":["webpack:///./src/views/CustomerOrders.vue?683b","webpack:///./src/views/CustomerOrders.vue?e304","webpack:///src/views/CustomerOrders.vue","webpack:///./src/views/CustomerOrders.vue?7ae8","webpack:///./src/views/CustomerOrders.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","_v","_l","cart","item","key","id","staticStyle","product","imageUrl","_s","title","_f","price","qty","unit","final_total","removeCartItem","total","staticRenderFns","name","data","methods","getCart","vm","$http","get","api","then","response","console","log","delete","$bus","$emit","createOrder","post","success","$router","push","created","component"],"mappings":"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","file":"js/chunk-05198cb4.85dd3109.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrders.vue?vue&type=style&index=0&id=6f989747&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coustomerorders\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('div',{staticClass:\"order container\"},[_c('div',{staticClass:\"h5\"},[_vm._v(\"購物車 ( 1件 )\")]),_vm._m(1),_vm._l((_vm.cart.carts),function(item){return _c('div',{key:item.id,staticClass:\"table-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4 col-xs-12\"},[_c('img',{staticStyle:{\"width\":\"100px\",\"margin-right\":\"20px\"},attrs:{\"src\":item.product.imageUrl,\"alt\":\"\"}}),_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('div',{staticClass:\"col-md-3 col-xs-12 text-center price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.product.price))+\" \")]),_c('div',{staticClass:\"col-md-1 col-xs-12 unit\"},[_vm._v(\" \"+_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit)+\" \")]),_c('div',{staticClass:\"col-md-3 col-xs-12 text-center final_total\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")]),_c('div',{staticClass:\"col-md-1 col-xs-12 delete\"},[_c('button',{staticClass:\"btn btn-sm\",on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"fas fa-times\"})])])])])}),_c('div',{staticClass:\"order_price text-right container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"}),_c('div',{staticClass:\"h5 col align-self-end\"},[_vm._v(\" 總計 ： \"+_vm._s(_vm._f(\"currency\")(_vm.cart.total))+\" \")])])]),_c('div',{staticClass:\"nextstep text-right\"},[_c('router-link',{staticClass:\"btn btn-outline-primary\",attrs:{\"to\":\"/customerinformation\"}},[_vm._v(\"下一步\"),_c('i',{staticClass:\"fas fa-chevron-right ml-2\"})])],1)],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"procedure\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"step col-md-4 col-sm-12 active\"},[_c('strong',[_vm._v(\"1\")]),_vm._v(\"確認購物清單 \")]),_c('div',{staticClass:\"step col-md-4 col-sm-12\"},[_c('strong',[_vm._v(\"2\")]),_vm._v(\"填寫訂購資料 \")]),_c('div',{staticClass:\"step col-md-4 col-sm-12\"},[_c('strong',[_vm._v(\"3\")]),_vm._v(\"完成訂購\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"商品資訊\")]),_c('div',{staticClass:\"col-3 text-center\"},[_vm._v(\"單價\")]),_c('div',{staticClass:\"col-1\"},[_vm._v(\"數量\")]),_c('div',{staticClass:\"col-3 text-center\"},[_vm._v(\"小計\")]),_c('div',{staticClass:\"col-1\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"coustomerorders\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"procedure\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"step col-md-4 col-sm-12 active\">\n            <strong>1</strong>確認購物清單\n          </div>\n          <div class=\"step col-md-4 col-sm-12\">\n            <strong>2</strong>填寫訂購資料\n          </div>\n          <div class=\"step col-md-4 col-sm-12\"><strong>3</strong>完成訂購</div>\n        </div>\n      </div>\n    </div>\n    <!-- orders -->\n    <div class=\"order container\">\n      <div class=\"h5\">購物車 ( 1件 )</div>\n      <div class=\"table-header\">\n        <div class=\"row\">\n          <div class=\"col-4\">商品資訊</div>\n          <div class=\"col-3 text-center\">單價</div>\n          <div class=\"col-1\">數量</div>\n          <div class=\"col-3 text-center\">小計</div>\n          <div class=\"col-1\"></div>\n        </div>\n      </div>\n      <div class=\"table-body\" v-for=\"item in cart.carts\" :key=\"item.id\">\n        <div class=\"row\">\n          <div class=\"col-md-4 col-xs-12\">\n            <img\n              :src=\"item.product.imageUrl\"\n              alt=\"\"\n              style=\"width:100px;margin-right:20px\"\n            />\n            {{ item.product.title }}\n          </div>\n          <div class=\"col-md-3 col-xs-12 text-center price\">\n            {{ item.product.price | currency }}\n          </div>\n          <div class=\"col-md-1 col-xs-12 unit\">\n            {{ item.qty }}/{{ item.product.unit }}\n          </div>\n          <div class=\"col-md-3 col-xs-12 text-center final_total\">\n            {{ item.final_total | currency }}\n          </div>\n          <div class=\"col-md-1 col-xs-12 delete\">\n            <button class=\"btn btn-sm\" @click=\"removeCartItem(item.id)\">\n              <i class=\"fas fa-times\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"order_price text-right container\">\n        <div class=\"row\">\n          <div class=\"col-1\"></div>\n          <div class=\"h5 col align-self-end\">\n            總計 ： {{ cart.total | currency }}\n          </div>\n        </div>\n      </div>\n      <div class=\"nextstep text-right\">\n        <router-link to=\"/customerinformation\" class=\"btn btn-outline-primary\"\n          >下一步<i class=\"fas fa-chevron-right ml-2\"></i\n        ></router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"coustomerorders\",\n  data() {\n    return {\n      isLoading: false,\n      cart: []\n    };\n  },\n  methods: {\n    getCart() {\n      const vm = this;\n      const api = `https://vue-course-api.hexschool.io/api/anpo/cart`;\n      vm.isLoading = true;\n      this.$http.get(api).then(response => {\n        vm.cart = response.data.data;\n        vm.isLoading = false;\n        console.log(response);\n      });\n    },\n    removeCartItem(id) {\n      const vm = this;\n      const api = `https://vue-course-api.hexschool.io/api/anpo/cart/${id}`;\n      this.$http.delete(api).then(() => {\n        vm.$bus.$emit(\"addtoCart:update\", id);\n        vm.getCart();\n      });\n    },\n    createOrder() {\n      const vm = this;\n      const api = `https://vue-course-api.hexschool.io/api/anpo/order`;\n      const order = vm.form;\n      this.$http.post(api, { data: order }).then(response => {\n        console.log(\"訂單已建立\", response);\n        if (response.data.success) {\n          vm.$router.push(`/checkout/${response.data.orderId}`);\n        }\n        vm.getCart();\n      });\n    }\n  },\n  created() {\n    this.getCart();\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.coustomerorders {\n  background-color: #f8f8fa;\n  padding-bottom: 100px;\n  .procedure {\n    padding-top: 100px;\n    .container {\n      .row {\n        .step {\n          font-size: 1.1rem;\n          background-color: rgb(227, 227, 227);\n          text-align: center;\n          padding: 12px 0;\n          position: relative;\n          color: rgb(89, 141, 106);\n          letter-spacing: 1px;\n          &:before {\n            content: \"\";\n            position: absolute;\n            width: 6px;\n            height: 100%;\n            background-color: #f8f8fa;\n            top: 0;\n            left: 0;\n          }\n          &:after {\n            content: \"\";\n            position: absolute;\n            display: block;\n            width: 0;\n            height: 0;\n            right: 0px;\n            top: 0;\n            background-color: #fff;\n            border-width: 26px 0 26px 30px;\n            border-style: solid;\n            border-color: #f8f8fa transparent #f8f8fa rgb(227, 227, 227);\n          }\n          strong {\n            font-size: 1.2rem;\n            margin-right: 20px;\n          }\n          &:last-child {\n            &:after {\n              border: none;\n            }\n          }\n        }\n        .active {\n          background-color: rgb(89, 141, 106);\n          color: #fff;\n          &:after {\n            border-color: #f8f8fa transparent #f8f8fa rgb(89, 141, 106);\n          }\n        }\n      }\n    }\n  }\n  // order\n  .order {\n    margin-top: 100px;\n    .h5 {\n      background-color: #e3e3e3;\n      padding: 10px 16px;\n      margin: 0;\n      font-size: 1.4rem;\n    }\n    .table-header,\n    .table-body {\n      background-color: #fff;\n      border-bottom: 1px solid #e3e3e3;\n      .row {\n        padding: 10px 16px;\n        font-size: 1.2rem;\n        align-items: center;\n      }\n    }\n    .order_price {\n      background-color: #fff;\n      .h5 {\n        background-color: #fff;\n      }\n    }\n    .nextstep {\n      margin-top: 60px;\n      .btn {\n        font-size: 1.2rem;\n      }\n    }\n  }\n}\n@media (max-width: 767px) {\n  .coustomerorders {\n    .procedure {\n      padding-top: 50px;\n      .container {\n        .row {\n          padding: 0 15px;\n          .step {\n            &:before {\n              content: none;\n            }\n            &:after {\n              content: none;\n            }\n            strong {\n              position: absolute;\n              top: 50%;\n              transform: translate(0, -50%);\n              left: 26%;\n            }\n          }\n        }\n      }\n    }\n    // order\n    .order {\n      margin-top: 50px;\n      .table-header {\n        display: none;\n      }\n      .table-body {\n        .row {\n          position: relative;\n          .price {\n            text-align: left !important;\n          }\n          .final_total {\n            position: absolute;\n            width: auto;\n            right: 15px;\n            bottom: 10px;\n          }\n          .delete {\n            width: auto;\n            position: absolute;\n            right: 15px;\n            top: 10px;\n          }\n        }\n      }\n    }\n  }\n}\n@media (max-width: 575px) {\n  .coustomerorders {\n    .procedure {\n      padding-top: 50px;\n      .container {\n        .row {\n          padding: 0 15px;\n          .step {\n            &:before {\n              content: none;\n            }\n            &:after {\n              content: none;\n            }\n            strong {\n              position: absolute;\n              top: 50%;\n              transform: translate(0, -50%);\n              left: 26%;\n            }\n          }\n        }\n      }\n    }\n    // order\n    .order {\n      margin-top: 50px;\n      .table-header {\n        display: none;\n      }\n      .table-body {\n        .row {\n          position: relative;\n          .price {\n            text-align: left !important;\n          }\n          .final_total {\n            position: absolute;\n            width: auto;\n            right: 15px;\n            bottom: 10px;\n          }\n          .delete {\n            width: auto;\n            position: absolute;\n            right: 15px;\n            top: 10px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerOrders.vue?vue&type=template&id=6f989747&scoped=true&\"\nimport script from \"./CustomerOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerOrders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerOrders.vue?vue&type=style&index=0&id=6f989747&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f989747\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}